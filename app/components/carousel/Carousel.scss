@use '../../mixins.scss' as *;

.carousel {
    display: flex;
    flex-direction: column;
    align-items: center;
    opacity: 0;
    transition: opacity 0.8s ease-out;
    @include gap(10px, 30px, 30px);
    &.fade-in {
        opacity: 1;
    }
    .container {
        display: flex;
        align-items: center;
        justify-content: center;
        height: clamp(240px, 240px + (450 - 240) * ((100vw - 768px) / (1440 - 768)), 450px);
        position: relative;
        width: 100%;
        max-width: 100%;
        overflow: hidden;
        @media (max-width: 768px) {
            height: 40vw;
            gap: 10px;
            overflow: visible;
        }
    }
    .item {
        cursor: pointer;
        transition: all 0.6s ease;
        transform-origin: center;
        position: absolute;
        &.position-0 {
            z-index: 3;
            transform: translateX(0);
            opacity: 1;
            .image {
                width: clamp(240px, 55.56vw, 800px);
                height: clamp(135px, 31.25vw, 450px);
                filter: blur(0px);
                @media (max-width: 768px) {
                    width: 70vw;
                    height: 40vw;
                }
            }
        }
        &.position-1 {
            z-index: 2;
            transform: translateX(300px);
            opacity: 0.8;
            .image {
                width: clamp(180px, 41.67vw, 600px);
                height: clamp(99px, 22.92vw, 330px);
                filter: blur(1px);
                @media (max-width: 768px) {
                    width: 70vw;
                    height: 40vw;
                    filter: none;
                }
            }
            @media (max-width: 768px) {
                transform: translateX(calc(70vw + 10px));
                opacity: 1;
            }
        }
        &.position--1 {
            z-index: 2;
            transform: translateX(-300px);
            opacity: 0.8;
            .image {
                width: clamp(180px, 41.67vw, 600px);
                height: clamp(99px, 22.92vw, 330px);
                filter: blur(1px);
                @media (max-width: 768px) {
                    width: 70vw;
                    height: 40vw;
                    filter: none;
                }
            }
            @media (max-width: 768px) {
                transform: translateX(calc(-70vw - 10px));
                opacity: 1;
            }
        }
    }
    .image {
        object-fit: cover;
        transition: all 0.6s ease;
    }
    .info {
        display: flex;
        flex-direction: column;
        text-align: center;
        max-width: 800px;
        opacity: 1;
        transition: opacity 0.3s ease;
        @include gap(10px, 30px, 30px);
        &.transitioning {
            opacity: 0;
        }
        h3 {
            font-family: inherit;
            height: clamp(102px, calc(102px + (110 - 102) * ((100vw - 768px) / (1440 - 768))), 110px);
            font-size: clamp(30px, 30px + (48 - 30) * ((100vw - 768px) / (1440 - 768)), 48px);
        }
        p {
            height: clamp(116px, calc(152px + (116 - 152) * ((100vw - 768px) / (1440 - 768))), 152px);
            font-size: clamp(16px, 16px + (24 - 16) * ((100vw - 768px) / (1440 - 768)), 24px);
        }
    }
    .controls {
        display: flex;
        gap: 30px;
    }
    .btn {
        color: var(--textColor);
        font-size: 36px;
        cursor: pointer;
        transition: all 0.3s ease;
        background: none;
        border: none;
        &:hover {
            color: var(--mainColor);
        }
    }
    .select {
        position: absolute;
        top: 0;
        bottom: 0;
        background: transparent;
        color: var(--backgroundColor);
        border: none;
        height: 100%;
        font-size: 36px;
        cursor: pointer;
        z-index: 4;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background-color 0.3s ease;
        width: clamp(50px, 50px + (100 - 50) * ((100vw - 768px) / (1440 - 768)), 100px);
        &:hover {
            background: rgba(0, 0, 0, 0.7);
        }
        &.prev {
            left: calc(50% - clamp(240px, 55.56vw, 800px) / 2);
            @media (max-width: 768px) {
                left: calc(50% - 35vw);
            }
        }
        &.next {
            right: calc(50% - clamp(240px, 55.56vw, 800px) / 2);
            @media (max-width: 768px) {
                right: calc(50% - 35vw);
            }
        }
    }
}